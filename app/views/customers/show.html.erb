
<div class = "container">
  <div class = "col-sm-offset-2">
    <h2>Add a Project for <%= @customer.name.capitalize %> <%= @customer.lastname.capitalize%></h2><br>
  </div>

<div class = "row">
  <div class = "col-xs-12">
<%= form_with(model: [ @customer, @project ], local: true, :html => {class: "form-horizontal", role: "form"}) do |form| %>
  
  <% if @project.errors.any? %>
      <div id="error_explanation">
        <h2>
          <%= pluralize(@project.errors.count, "error") %> prohibited
          this article from being saved:
        </h2>
        <ul>
          <% @project.errors.full_messages.each do |msg| %>
            <li><%= msg %></li>
          <% end %>
        </ul>
      </div>
      <% end %>

  <div class = "form-group">
    <div class = "control-label col-sm-2">
      <%= form.label(:jname, "Project Title") %>
    </div>
    <div class = "col-sm-6">
      <%= form.text_field :jname, class: "form-control", placeholder: "Project Title", autofocus: true %>
    </div>
  </div>
   
   <div class = "form-group">
    <div class = "control-label col-sm-2">
      <%= form.label(:jdescription, "Description" )%>
    </div>
    <div class = "col-sm-6">
      <%= form.text_area :jdescription,rows: 5 ,class: "form-control",placeholder: "Description of Project" %>
    </div>
  </div>
   
   <div class = "form-group">
    <div class = "control-label col-sm-2">
      <%= form.label(:price,"Project Cost") %>
    </div>
    <div class = "col-sm-3">
      <div class = "input-group">
        <div class = "input-group-addon">â‚¹</div>
          <%= form.number_field :price, class: "form-control", id: "exampleInputAmount" , placeholder: "Price" %>
        <div class = "input-group-addon">.00</div>
      </div>
    </div>
  </div>
   
   <div class = "form-group">
    <div class = "control-label col-sm-2">
      <%= form.label(:start_time,"Starting Date") %>
    </div>
    <div class = "col-sm-3">
      <div class = "input-group date">
      <%= form.date_field :start_time, class: "form-control", id: "datetimepicker1",placeholder: "YYYY-MM-DD" %>
      <div class="input-group-addon"><span class ="glyphicon glyphicon-calendar"></span></div>
    </div>
    </div>
   </div>
  
  <div class = "form-group">
    <div class = "control-label col-sm-2">
      <%= form.label(:end_time,"Ending Date") %>
    </div>
    <div class = "col-sm-3">
      <div class = "input-group date">
      <%= form.date_field :end_time, class: "form-control",id: "datetimepicker1",placeholder: "YYYY-MM-DD" %>
      <div class="input-group-addon"><span class ="glyphicon glyphicon-calendar"></span></div>
    </div>
    </div>
  </div>
  
  <div class = "form-group">
    <div class = "control-label col-sm-2">
      <%= form.label(:project_status,"Project Status") %>
    </div>
    <div class = "col-sm-4">
      <%= form.select :project_status, options_for_select([["In Progress",false],["Completed", true]], :selected => "In Progress") %>
    </div>
  </div> 
  
  <div class = "form-group">
    <div class = "col-sm-offset-2 col-sm-10">
        <%= form.submit class: 'btn btn-primary btn-lg' %>
    </div>
  </div>
<% end %>
</div>
</div>

<div class = "col-sm-offset-2">
  <%= link_to 'Back to customers listing', customers_path, class: 'btn btn-warning btn-sm' %> | <%= link_to 'Show Projects', customer_projects_path(@customer), class: 'btn btn-info btn-sm' %> for <%= @customer.name %> <%= @customer.lastname %> | 
  <%= link_to 'Edit Details', edit_customer_path(@customer), class: 'btn btn-primary btn-sm' %> of <%= @customer.name %> <%= @customer.lastname %>
</div>
</div>
<script type="text/javascript">
     $(function () {
        $('#datetimepicker1').datetimepicker();
  });
</script>